<div class="row">
  <div class="col-1"></div>
  <div class="col-10">
    <div class="mt-5 d-flex flex-column align-items-center">
      <h1>Revistas creadas</h1>
    </div>
    <div class="mt-3">
      <table class="table table-hover">
        <thead>
        <tr>
          <th class="th-c-number" scope="col">#</th>
          <th class="th-c-name" scope="col">Nombre</th>
          <th class="th-c-description" scope="col">Descripción</th>
          <th class="th-c-category" scope="col">Categoría</th>
          <th class="th-c-entry-date" scope="col">Ingreso</th>
          <th class="th-c-author" scope="col">Autor</th>
          <th class="th-c-status" scope="col">Estado</th>
          <th class="th-c-actions" scope="col">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <ng-container *ngFor="let magazine of createdMagazines; let i = index">
          <tr>
            <th scope="row">{{i + 1}}</th>
            <td>{{magazine.name}}</td>
            <td>{{magazine.description}}</td>
            <td>{{magazine.catCategory.value2}}</td>
            <td>{{magazine.entryDate}}</td>
            <td>{{magazine.author.fullName}}</td>
            <td>{{magazine.catStatus.value2}}</td>
            <td>
              <app-action>
                <button ngbDropdownItem (click)="openAssignModal(magazine, assignCostModal, false)">Asignar costo</button>
              </app-action>
            </td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-1"></div>
</div>
<div class="row">
  <div class="col-1"></div>
  <div class="col-10">
    <div class="mt-5 d-flex flex-column align-items-center">
      <h1>Revistas publicadas</h1>
    </div>
    <div class="mt-3">
      <table class="table table-hover">
        <thead>
        <tr>
          <th class="th-p-number" scope="col">#</th>
          <th class="th-p-name" scope="col">Nombre</th>
          <th class="th-p-description" scope="col">Descripción</th>
          <th class="th-p-category" scope="col">Categoría</th>
          <th class="th-p-entry-date" scope="col">Ingreso</th>
          <th class="th-p-author" scope="col">Autor</th>
          <th class="th-p-status" scope="col">Estado</th>
          <th class="th-p-cost" scope="col">Costo diario</th>
          <th class="th-p-actions" scope="col">Acciones</th>
        </tr>
        </thead>
        <tbody>
        <ng-container *ngFor="let magazine of publishedMagazines; let i = index">
          <tr>
            <th scope="row">{{i + 1}}</th>
            <td>{{magazine.name}}</td>
            <td>{{magazine.description}}</td>
            <td>{{magazine.catCategory.value2}}</td>
            <td>{{magazine.entryDate}}</td>
            <td>{{magazine.author.fullName}}</td>
            <td>{{magazine.catStatus.value2}}</td>
            <td>{{magazine.costPerDay}}</td>
            <td>
              <app-action>
                <button ngbDropdownItem (click)="openAssignModal(magazine, assignCostModal, true)">Actualizar costo</button>
              </app-action>
            </td>
          </tr>
        </ng-container>
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-1"></div>
</div>

<app-modal #assignCostModal
           [title]="isModalUpdate ? 'Actualizar costo' : 'Asignar costo y publicar'"
           [btnText]="isModalUpdate ? 'Actualizar' : 'Asignar y publicar'"
           (confirmationAction)="isModalUpdate ? updateCost() : updateCostAndPublish()"
           size="sm"
>
  <div class="mb-3">
    <label for="name" class="form-label">Nombre</label>
    <input type="text" class="form-control" id="name" name="name" [(ngModel)]="magazineCost.name" readonly>
  </div>
  <div class="mb-3">
    <label for="cost" class="form-label">Costo</label>
    <div class="row d-flex align-items-center">
      <div class="col-2">
        <div class="d-flex flex-column align-items-end">
          <label class="form-label">Q.</label>
        </div>
      </div>
      <div class="col-10">
        <input type="number" class="form-control" id="cost" name="cost" [(ngModel)]="magazineCost.cost">
      </div>
    </div>
  </div>
</app-modal>
